# MCUboot Bootloader Specific Configuration
# Project: LoRa P2P Encrypted Communication with FOTA
# Board: Seeed XIAO nRF54L15

# ==============================================================================
# Image Sectors Configuration
# ==============================================================================

# nRF54L15 requires larger sector count due to RRAM characteristics
# Each image slot is 664KB, with smaller effective sector size
# 512 sectors provides sufficient margin for complex applications
CONFIG_BOOT_MAX_IMG_SECTORS=512

# ==============================================================================
# Boot Behavior
# ==============================================================================

# Boot the primary slot by default
CONFIG_BOOT_BOOTSTRAP=y

# ==============================================================================
# Logging Configuration
# ==============================================================================

# Enable logging for debugging (can be disabled in production)
CONFIG_LOG=y
CONFIG_BOOT_BANNER=y
CONFIG_MCUBOOT_INDICATION_LED=y

# Increase log buffer size for detailed boot messages
CONFIG_LOG_BUFFER_SIZE=2048

# ==============================================================================
# Optional: Serial Recovery Mode (Commented out by default)
# ==============================================================================

# Uncomment to enable serial recovery mode for emergency firmware recovery
# Allows flashing firmware over UART if primary image is corrupted
# CONFIG_MCUBOOT_SERIAL=y
# CONFIG_BOOT_SERIAL_CDC_ACM=y

# ==============================================================================
# Optional: MCUboot Shell (Commented out by default)
# ==============================================================================

# Uncomment for interactive MCUboot shell (debugging only)
# CONFIG_BOOT_SHELL=y

# ==============================================================================
# Flash Access
# ==============================================================================

# Enable flash operations
CONFIG_FLASH=y
CONFIG_FLASH_MAP=y

# ==============================================================================
# Signature Verification
# ==============================================================================

# Signature verification is configured in sysbuild.conf
# (ED25519 with KMU hardware verification)
# Additional verification settings can be added here if needed
